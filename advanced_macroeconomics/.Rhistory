y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
x<-rnorm(100)
x.l<-c(NA,diff(x))
x.l2<-c(NA,NA,diff(x,lag=2))
y<-x-x.l
y.l<-x.l-x.l2
m1<-lm(y~y.l)
summary(m1)
#### Asian tigers 2 ####
# Download data from WDI
gdp_m<-WDIsearch("growth",field="name",short=FALSE) # 28
#### GDP per capita ####
require(WDI)
#### Asian tigers 2 ####
# Download data from WDI
gdp_m<-WDIsearch("growth",field="name",short=FALSE) # 28
wdi<-WDI(c("ID","PH","TH"),gdp_m[28,1],start=1960,end=2016)
wdi<-wdi[order(wdi$iso2c,-wdi$year),]
# Time-series objects
id<-ts(wdi[,3][wdi$iso2c=="ID"],start=1960)
ph<-ts(wdi[,3][wdi$iso2c=="PH"],start=1960)
th<-ts(wdi[,3][wdi$iso2c=="TH"],start=1960)
# Plot data
par(mfrow=c(3,1))
summary(id)
summary(ph)
summary(th)
# Plot data
par(mfrow=c(3,1))
plot(id,lwd=2,ylim=c(-15,15),
axes=FALSE,ylab="",xlab="",main="GDP growth Indonesia")
abline(h=mean(kr,na.rm=TRUE),lty=2)
abline(h=mean(id,na.rm=TRUE),lty=2)
axis(2,tick=FALSE)
plot(ph,lwd=2,ylim=c(-10,15),
axes=FALSE,ylab="",xlab="",main="GDP growth Philippines")
abline(h=mean(ph,na.rm=TRUE),lty=2)
axis(2,tick=FALSE)
# Plot data
par(mfrow=c(3,1))
plot(id,lwd=2,ylim=c(-15,15),
axes=FALSE,ylab="",xlab="",main="GDP growth Indonesia")
## Developing countries
options(scipen=8)
par(mar=c(5,5,2,2),las=1,bty="n",cex.lab=2,cex.axis=2)
# Plot data
par(mfrow=c(3,1))
plot(id,lwd=2,ylim=c(-15,15),
axes=FALSE,ylab="",xlab="",main="GDP growth Indonesia")
abline(h=mean(id,na.rm=TRUE),lty=2)
axis(2,tick=FALSE)
plot(ph,lwd=2,ylim=c(-15,15),
axes=FALSE,ylab="",xlab="",main="GDP growth Philippines")
abline(h=mean(ph,na.rm=TRUE),lty=2)
axis(2,tick=FALSE)
plot(th,lwd=2,ylim=c(-15,15),
axes=FALSE,ylab="",xlab="",main="GDP growth Thailand")
abline(h=mean(th,na.rm=TRUE),lty=2)
axis(2,tick=FALSE)
axis(1,tick=FALSE)
(.1*.15)/(.1+.15)
(.13*.15)/(.13+.15)
(25*150)/(175)
150-(25*150)/(175)
z=(10*50)/(10+50)
y=1:10
A=10
X=50
Z=(A*X)/(A=X)
Y=10
x<-c()
x=X
for(i in 1:Y){
x[i]<-c(x,x-z)
}
for(i in 1:Y){
x[i]<-c(x,x-Z)
}
Z=(10*50)/(10+50)
x=50-z
x=50-Z
x=50
for(i in 2:10){
x[i]=x[i-1]-Z
}
plot(x)
x
Z=(10*50)/(10+50)
x=50
for(i in 2:6){  x[i]=x[i-1]-Z }
x
x2=10
for(i in 2:6){  x2[i]=x2[i-1]-Z }
Z=(10*10)/(10+10)
x2=10
for(i in 2:6){  x2[i]=x2[i-1]-Z }
Z=(10*10)/(10+10)
x2=10
for(i in 2:6){  x2[i]=x2[i-1]-Z }
Z
(10*10)/(20)
Z=(10*50)/(10+50)
Z=(25*150)/(25+150)
x=150
for(i in 2:6){  x[i]=x[i-1]-Z }
Z=(25*10)/(25+10)
x2=10
for(i in 2:6){  x2[i]=x2[i-1]-Z }
Z=(25*150)/(25+150)
x=150
Z=(25*10)/(25+10)
Z=(25*150)/(25+150)
x=150
for(i in 2:6){  x[i]=x[i-1]-Z }
x
for(i in 2:7){x[i]=x[i-1]-Z }
x
Z=(25*10)/(25+10)
x=10
for(i in 2:7){x[i]=x[i-1]-Z }
Z=(25*150)/(25+150)
x=150
for(i in 2:7){x[i]=x[i-1]-Z }
Z=(25*10)/(25+10)
A=25
X=150
Z=A*X/(A+X)
A=25
X=10
Z=A*X/(A+X)
Z/6
Z/7
(X-Z)/7
A=25
X=150
Z=A*X/(A+X)
Y=7
a<-150-Z/Y
a=150
for(i in 2:Y){a[i]=a[i-1]-Z/Y}
a
Z/Y
A=25
X=125
Z=A*X/(A+X)
(125-Z)/7
(125-Z)/6
swiss<-function(a,x){
z=a*x/(a+x)
}
swiss(25,150)
swiss<-function(a,x){
z=a*x/(a+x)
}
swiss(25,150)
swiss<-function(a,x){
z<-a*x/(a+x)
}
swiss(25,150)
swiss<-function(a,x){
z<-a*x/(a+x)
return(z)
}
swiss(25,150)
x=150
a=25
z=a*x\(a+x)
z=a*x/(a+x)
d=x
for(i in 2:6){d[i]=d[i-1]-(x-z)/6}
d
d=x
for(i in 2:7){d[i]=d[i-1]-(x-z)/6}
d
x=10
d2=x
for(i in 2:7){d2[i]=d2[i-1]-(x-z)/6}
d
x=10
z=a*x/(a+x)
d2=x
for(i in 2:7){d2[i]=d2[i-1]-(x-z)/6}
2
d2
x=100
a=25
z=a*x/(a+x)
d=x
for(i in 2:7){d[i]=d[i-1]-(x-z)/6}
x=50
z=a*x/(a+x)
d2=x
for(i in 2:7){d2[i]=d2[i-1]-(x-z)/6}
x=10
z=a*x/(a+x)
x=10
z=a*x/(a+x)
d3=x
for(i in 2:7){d3[i]=d3[i-1]-(x-z)/6}
par(mar=c(4,4,2,2),las=1,bty="n",cex.lab=2,cex.axis=2)
plot(d,type="l",lwd=2,xlab="",ylab="Tariff rate",axes=FALSE,ylim=c(0,100))
par(mar=c(4,5,2,2),las=1,bty="n",cex.lab=2,cex.axis=2)
plot(d,type="l",lwd=2,xlab="",ylab="Tariff rate",axes=FALSE,ylim=c(0,100))
lines(d2,lty=2,lwd=2,col="steelblue4")
lines(d2,lty=3,lwd=2,col="firebrick3")
par(mar=c(4,5,2,2),las=1,bty="n",cex.lab=2,cex.axis=2)
plot(d,type="l",lwd=2,xlab="",ylab="Tariff rate",axes=FALSE,ylim=c(0,100))
lines(d2,lty=2,lwd=2,col="steelblue4")
lines(d3,lty=3,lwd=2,col="firebrick3")
axis(1,tick=FALSE)
axis(2,tick=FALSE)
x=50
a=25
z=a*x/(a+x)
d=x
for(i in 2:7){d[i]=d[i-1]-(x-z)/6}
x=25
z=a*x/(a+x)
d2=x
for(i in 2:7){d2[i]=d2[i-1]-(x-z)/6}
x=10
z=a*x/(a+x)
d3=x
for(i in 2:7){d3[i]=d3[i-1]-(x-z)/6}
par(mar=c(4,5,2,2),las=1,bty="n",cex.lab=2,cex.axis=2)
plot(d,type="l",lwd=2,xlab="",ylab="Tariff rate",axes=FALSE,ylim=c(0,50))
lines(d2,lty=2,lwd=2,col="steelblue4")
lines(d3,lty=3,lwd=2,col="firebrick3")
axis(1,tick=FALSE)
axis(2,tick=FALSE)
par(mar=c(4,5,2,2),las=1,bty="n",cex.lab=2,cex.axis=2)
plot(d,type="l",lwd=2,xlab="",ylab="",axes=FALSE,ylim=c(0,50))
lines(d2,lty=2,lwd=2,col="steelblue4")
lines(d3,lty=3,lwd=2,col="firebrick3")
axis(1,tick=FALSE)
axis(2,tick=FALSE)
par(mar=c(4,5,2,2),las=1,bty="n",cex.lab=2,cex.axis=2)
plot(d,type="l",lwd=2,xlab="",ylab="",axes=FALSE,ylim=c(0,50))
lines(d2,lty=2,lwd=2,col="steelblue4")
lines(d3,lty=3,lwd=2,col="firebrick3")
axis(1,tick=FALSE,at=1:7,label=0:6)
axis(2,tick=FALSE)
exp(0.31)
exp(0.12)
require(wdi)
#### GDP per capita ####
require(WDI)
#### Openness of trade ####
gdp_m<-WDIsearch("growth",field="name",short=FALSE) # 27
trade_m<-WDIsearch("trade",field="name",short=FALSE) # 108
wdi<-WDI(iso2c,c(gdp_m[27,1],trade_m[108,1]),start=2000,end=2015)
# ISO2C
require(countrycode)
data(countrycode_data)
cc<-countrycode_data
iso2c<-cc$iso2c
#### Openness of trade ####
gdp_m<-WDIsearch("growth",field="name",short=FALSE) # 27
trade_m<-WDIsearch("trade",field="name",short=FALSE) # 108
wdi<-WDI(iso2c,c(gdp_m[27,1],trade_m[108,1]),start=2000,end=2015)
# Aggregate data
d<-ddply(wdi,.(iso2c),summarise,
gdp_g=mean(NY.GDP.MKTP.KD.ZG,na.rm=TRUE),
trade=mean(NE.TRD.GNFS.ZS,na.rm=TRUE))
# Plot data
par(mfrow=c(1,1))
plot(d$gdp_g,d$trade,xlim=c(-5,15),ylim=c(5,420),axes=FALSE,
xlab="GDP growth",ylab="Trade relative to GDP",log="y")
# Aggregate data
d<-ddply(wdi,.(iso2c),summarise,
gdp_g=mean(NY.GDP.MKTP.KD.ZG,na.rm=TRUE),
trade=mean(NE.TRD.GNFS.ZS,na.rm=TRUE))
require(plyr)
# Aggregate data
d<-ddply(wdi,.(iso2c),summarise,
gdp_g=mean(NY.GDP.MKTP.KD.ZG,na.rm=TRUE),
trade=mean(NE.TRD.GNFS.ZS,na.rm=TRUE))
# Plot data
par(mfrow=c(1,1))
plot(d$gdp_g,d$trade,xlim=c(-5,15),ylim=c(5,420),axes=FALSE,
xlab="GDP growth",ylab="Trade relative to GDP",log="y")
axis(1,tick=FALSE);axis(2,tick=FALSE,line=-1)
mean(d$trade)
mean(d$trade,na.rm=TRUE)
?ttest
?t.test
z.test<-function(b1,b2,se1,se2){
zeta=(b1-b2)/(sqrt(se1^2+se2^2))
return(zeta)
}
z.test(5,3,1,1.5)
pnorm( -14.11765)
pnorm(-14.11765)
#### Simulate data ####
# Start with generating normal mortality rates, pre- and during-war period.
# Mortality rates are independent of each other.
# Use zero-inflated Poisson distribution
library(VGAM)
set.seed(42);mort.pre=rzipois(2000,lambda=1, pstr0=.95);table(mort.pre)
set.seed(43);mort.post=rzipois(2000,lambda=1, pstr0=.95);table(mort.post)
# Combine data in data frame
df<-data.frame(hh=1:2000,cluster=rep(1:100,each=20),
mort.pre=mort.pre,mort.post=mort.post)
names(df)
sum(df$mort.pre)
96/10000
96/10
sum(df$mort.post)
install.packages(c("hms", "Rcpp", "RcppEigen", "rgdal", "spatstat", "spatstat.data", "spatstat.utils", "spdep", "stringi"))
d<-read.csv('/home/swl/Dropbox/Sandbox/new_data/WFPVAM_FoodPrices_24-7-2017.csv',
stringsAsFactors=FALSE)
names(d)
bf<-d[d$adm0_name=='Burkina Faso']
bf<-d[d$adm0_name=='Burkina Faso',]
names(bf)
table(bf$cm_name)
cm<-c('Millet','Maize','Sorghum')
bf<-d[d$adm0_name=='Burkina Faso' &
d$cm_name %in% c('Millet','Maize','Sorghum') ,]
table(bf$cm_name)
length(unique(bf$mkt_name))
names(bf)
summary(bf$mp_year)
table(bf$mp_year)
table(bf$mkt_name)
x<-bf[bf$mkt_name=='Ouagadougo (Sankaryare)' &
bf$cm_name=='Millet',]
View(x)
names(x)
p<-ts(x$mp_price,start=c(1992,1),frequency=12)
plot(p)
names(d)
table(d$cm_name)
a<-bf<-d[d$adm0_name=='Burkina Faso',]
table(a$cm_name)
x<-bf[bf$mkt_name=='Dori' &
bf$cm_name=='Millet',]
p<-ts(x$mp_price,start=c(1992,1),frequency=12)
plot(p)
plot(log(p))
plot(diff(log(p)))
N=1000
?rnorm
pre<-rnorm(N,5,1)
during<-rnorm(N,5,1)
cdr<-rnorm(N,5,1)
cdr2<-cdr+rnorm(1000,0,1)
summary(cdr)
summary(cdr2)
v<-rnorm(N,1,.1)
summary(v)
P=20000000
P=25000000
edr<-(cdr2+v)-cdr
boxplot(edr)
table(edr>0)
edr2<-cdr2-cdr
table(edr2>0)
hist(edr)
hist(edr2)
X<-cbind(1,6.9,0.36,1.97,0,0,0,0.55,0.07,3.22,3.10,20.97,timeseq,timeseq^2,timeseq^3)
timeseq=0:180
X<-cbind(1,6.9,0.36,1.97,0,0,0,0.55,0.07,3.22,3.10,20.97,timeseq,timeseq^2,timeseq^3)
load("~/Dropbox/Sandbox/bellum/output/power_law_ksg.RData")
post.pl
1000^-1.5
10000^-1.5
100000^-1.5
10000^-1.5
10000^-2
10000^-1
(10000/1000)^(1-1.5)
(6/1)^(-1.5)
6^-2.5
(1.5/.5)
(100000/1000)^(1-1.5)
load("~/Dropbox/Sandbox/bellum/output/ratio_wars.RData")
(2003-1946)/nrow(d.post)
(1945-1816)/nrow(d.pre)
2003+45
par(mar=c(5,5,2,2),mfrow=c(1,3),bty='n',pty='s',las=1,cex.lab=2,cex.axis=2)
hist(r3,breaks=50,axes=FALSE,xlab='',ylab='')
abline(v=or3,lwd=2)
hist(r3,breaks=30,axes=FALSE,xlab='',ylab='')
par(mar=c(5,5,2,2),mfrow=c(1,3),bty='n',pty='s',las=1,cex.lab=2,cex.axis=2)
hist(r3,breaks=30,axes=FALSE,xlab='',ylab='')
abline(v=or3,lwd=2)
axis(1,tick=FALSE);axis(2,tick=FALSE)
hist(r4,breaks=30,axes=FALSE,xlab='',ylab='')
abline(v=or4,lwd=2)
axis(1,tick=FALSE);axis(2,tick=FALSE)
hist(r5,breaks=30,axes=FALSE,xlab='',ylab='')
abline(v=or5,lwd=2)
axis(1,tick=FALSE);axis(2,tick=FALSE)
par(mar=c(5,5,2,2),mfrow=c(1,3),bty='n',pty='s',las=1,
cex.lab=2,cex.axis=2,cex.main=2)
hist(r3,breaks=30,axes=FALSE,xlab='',ylab='',main='10^3/10^4')
abline(v=or3,lwd=2)
axis(1,tick=FALSE);axis(2,tick=FALSE)
hist(r4,breaks=30,axes=FALSE,xlab='',ylab='',main='10^4/10^5')
abline(v=or4,lwd=2)
axis(1,tick=FALSE);axis(2,tick=FALSE)
hist(r5,breaks=30,axes=FALSE,xlab='',ylab='',main='10^5/10^6')
abline(v=or5,lwd=2)
axis(1,tick=FALSE);axis(2,tick=FALSE)
sum(r3<or3,na.rm=TRUE)/length(r3)
sum(r4<or4,na.rm=TRUE)/length(r4)
sum(r5<or5,na.rm=TRUE)/length(r5)
load("~/Dropbox/Sandbox/mortality/output/no_change.RData")
.45*.6
a<-read.csv('~/Downloads/temp.csv', stringsAsFactors=FALSE)
table(a[,1])
a<-read.csv('~/Downloads/201700Crn39502Grades.csv',stringsAsFactors=FALSE)
names(a)
table(a$Final.Grade)
a<-read.csv('~/Downloads/201700Crn39502Grades (1).csv',stringsAsFactors=FALSE)
table(a$Final.Grade)
View(a)
27/191
23/168
install.packages(c("backports", "curl", "dfoptim", "digest", "foreach", "git2r", "iterators", "MCMCpack", "plotrix", "RcppArmadillo", "reshape2", "Rttf2pt1", "spData", "splines2", "withr", "xts"))
d<-read.csv("temp.csv",header=FALSE)
x<-d[,1]
median(x)
## GDP examples
setwd('~/Dropbox/github/teaching/advanced_macroeconomics')
par(mar=c(5,5,2,2),bty='n',las=1,cex.axis=2,cex.lab=2)
x<-read.csv('data/EXGEUS.csv')
names(x)
head(x)
md<-ts(x[,2],start=c(1971,1),frequency=12)
plot(md)
?lag
md.l<-lag(md,k=-1)
lines(md.l,col='red')
mc<-md-md.l
plot(mc)
x<-read.csv('data/RNDEBIS.csv')
head(x)
md<-ts(x[,2],start=c(1964,1),frequency=12)
md.l<-lag(md,k=-1)
mc<-md-md.l
plot(mc)
mc<-window(mc,start=c(1964,1),end=c(1985,12))
plot(mc)
abline(v=1973\)
abline(v=1973)
## GDP examples
setwd('~/Dropbox/github/teaching/advanced_macroeconomics')
par(mar=c(5,5,2,2),bty='n',las=1,cex.axis=2,cex.lab=2)
# Data
x<-read.csv('data/RNDEBIS.csv')
md<-ts(x[,2],start=c(1964,1),frequency=12)
md.l<-lag(md,k=-1)
mc<-md-md.l
mc<-window(mc,start=c(1964,1),end=c(1985,12))
plot(mc,xlab="",ylab="",axes=FALSE,lwd=2,
main="Monthly change in US-German exchange rate")
abline(v=1973,lty=2)
axis(1,tick=FALSE);axis(2,tick=FALSE,line=-2)
